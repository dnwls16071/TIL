# 교육과정 설계

현수는 1년 과정의 수업계획을 짜야 합니다.

수업중에는 필수과목이 있습니다. 이 필수과목은 반드시 이수해야 하며, 그 순서도 정해져 있습니다.

만약 총 과목이 A, B, C, D, E, F, G가 있고, 여기서 필수과목이 CBA로 주어지면 필수과목은 C, B, A과목이며 이 순서대로 꼭 수업계획을 짜야 합니다.

여기서 순서란 B과목은 C과목을 이수한 후에 들어야 하고, A과목은 C와 B를 이수한 후에 들어야 한다는 것입니다.

현수가 C, B, D, A, G, E로 수업계획을 짜면 제대로 된 설계이지만 C, G, E, A, D, B 순서로 짰다면 잘 못 설계된 수업계획이 됩니다.

수업계획은 그 순서대로 앞에 수업이 이수되면 다음 수업을 시작하다는 것으로 해석합니다.

수업계획서상의 각 과목은 무조건 이수된다고 가정합니다.

필수과목순서가 주어지면 현수가 짠 N개의 수업설계가 잘된 것이면 “YES", 잘못된 것이면 ”NO“를 출력하는 프로그램을 작성하세요.

## ▣ 입력설명

첫 줄에 한 줄에 필수과목의 순서가 주어집니다. 모든 과목은 영문 대문자입니다.

두 번째 줄에 N(1<=N<=10)이 주어집니다.

세 번 째 줄부터 현수가 짠 N개의 수업설계가 주어집니다.(수업설계의 길이는 30이하이다)

수업설계는 같은 과목을 여러 번 이수하도록 설계해도 됩니다.

## ▣ 출력설명

수업설계가 잘된 것이면 “YES", 잘못된 것이면 ”NO“를 출력합니다.

## ▣ 입력예제 1

CBA

3

CBDAGE

FGCDAB

CTSBDEA

## ▣ 출력예제 1

#1 YES

#2 NO

#3 YES

## ▣ 입력예제 2

AFC

1

AFFDCCFF

## ▣ 출력예제 2

#1 YES

▣ 첫 번째 풀이

```python
import sys
input = sys.stdin.readline

essential = list(input().strip())
N = int(input())
for j in range(1, N+1):
    plan = list(input().strip())
    res = []
    for i in plan:
        if i in essential and i not in res:
            res.append(i)
    if ''.join(map(str, essential)) == ''.join(map(str, res)):
        print("#" + str(j) + " YES")
    else:
        print("#" + str(j) + " NO")
```

- 풀었지만 그렇게 좋은 코드라고 생각이 들지 않았고 개선할 수 있는 부분에 대해서 끝까지 고민하고 더 나은 코드가 있는지 생각해보았다.

- 안 좋다고 생각했던 이유는 리스트에서의 in연산자 남발때문이었다.

▣ 두 번째 풀이

```python
import sys
input = sys.stdin.readline
from collections import deque

essential = input().strip()
N = int(input())
for i in range(1, N+1):
    plan = input().strip()
    essentialdeque = deque(essential)
    for x in plan:
        if x in essentialdeque:
            if x != essentialdeque.popleft():
                print("#" + str(i) + " NO")
                break
    else:
        if essentialdeque:
            print("#" + str(i) + " NO")
        else:
            print("#" + str(i) + " YES")
```

### ❗list에서의 in연산자 vs set에서의 in연산자

- list에서 in연산자를 사용하면 사실상 for문을 한 번 도는 것과 마찬가지이기 때문에 선형 시간인 `O(N)`의 시간 복잡도를 가지게 된다.

- list를 set으로 바꾸고 in연산자를 사용하면 상수 시간인 `O(1)`의 시간 복잡도를 가지게 되어 효율성이 좋다.

- 다만, **list에서 set으로 바꾸기 위한 조건으로는 순서를 고려하지 않는다는 전제**가 있어야 한다.

▣ 문제풀이 시간 : 28m

▣ 체감 난이도 : ★★
